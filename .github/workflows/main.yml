name: üöÄ Pipeline CI/CD Principal

on:
  # Permet le d√©clenchement par le scheduler (via l'API)
  workflow_dispatch:
    inputs:
      source:
        description: 'Source de d√©clenchement (scheduled_run ou manuel)'
        required: true
        default: 'manuel'

jobs:
  # Votre pipeline commence ici
  build_and_deploy:
    runs-on: ubuntu-latest
    
    # Condition : V√©rifie si le d√©clenchement vient bien de la branche develop
    if: github.ref == 'refs/heads/main'
    
    steps:
      - name: Checkout du code (sur la branche develop sp√©cifi√©e)
        uses: actions/checkout@v4
        
      - name: Afficher la source de d√©clenchement
        run: echo "D√©clench√© par : ${{ github.event.inputs.source }}"
      
      # Ajoutez ici le reste de vos √©tapes (build, test, deploy, etc.)
      # ...
